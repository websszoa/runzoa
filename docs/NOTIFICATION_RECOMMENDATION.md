# 알림 설정 추천 방안

대회일·접수일이 다가올 때 사용자에게 알려주는 방법입니다.

## 1. 캘린더에 추가 (추천 · 현재 구현)

- **방식**: 알림 설정 시 **구글 캘린더(또는 Apple/Outlook)에 추가** 링크 제공.
- **장점**
  - 서버 크론/큐 불필요.
  - 사용자가 캘린더 앱에서 **알림 시간**(1일 전, 1주 전 등)을 직접 설정.
  - 기기 알림이 이미 동작하므로 별도 푸시 인프라 없음.
- **구현**: `getAddToCalendarUrl(marathon)`으로 Google Calendar URL 생성 → 알림 설정 토스트에 "캘린더에 추가" 액션으로 연결.

## 2. DB 알림 설정 (alerts 테이블) + 캘린더

- **현재**: `alerts` 테이블에 "이 마라톤 알림 받기"만 저장.
- **역할**: "내가 관심 있는 대회" 목록 + **캘린더에 추가**로 실제 알림은 캘린더 앱이 담당.

## 3. 추후 확장 (선택)

- **Web Push**: 브라우저/앱 푸시. FCM 등 구독 저장 + 크론으로 "D-1, D-3" 대상자에게 발송.
- **이메일**: 접수 시작 D-day 등에 이메일 발송. 발송 서비스 + 크론 필요.

**정리**: 지금은 **알림 설정 버튼 → DB 저장 + "캘린더에 추가"** 조합을 추천하고, 실제 알림은 캘린더 앱에 맡기는 방식이 구현·운영 모두 무난합니다.
